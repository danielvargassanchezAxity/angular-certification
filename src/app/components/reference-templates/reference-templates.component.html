<div>

    
    <app-state-button #stateButton [initialTemplate]="save" [workingTemplate]="saving" [doneTemplate]="saved">
    </app-state-button>
    
    <button (click)="stateButton.triggerAction()">call state button actions</button>
    
    <ng-template #save>
        Click me!
    </ng-template>

    <ng-template #saving>
        <img src="https://github.com/alcfeoh/ng-advanced-workshop/raw/master/src/assets/loader.gif" style="width: 20px">
    </ng-template>

    <ng-template #saved>
        Saved!
    </ng-template>

</div>